<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PTA EMR Playground</title>
    <!-- Link our styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>PTA EMR Playground</h1>
    </header>
    <div class="container">
        <!-- Sidebar for patient list -->
        <aside id="sidebar">
            <div class="search-box">
                <input type="text" id="patient-search" placeholder="Search patients..." aria-label="Search patients">
            </div>
            <ul id="patient-list">
                <!-- Patient list will be populated here -->
            </ul>
        </aside>
        <!-- Main content area -->
        <main id="main">
            <section id="patient-details" class="hidden">
                <h2 id="patient-name"></h2>
                <!-- Overview section will display demographics, PMH, allergies, insurance, etc. -->
                <div id="patient-overview" class="overview"></div>
                <form id="evaluation-form">
                    <h3>Evaluation</h3>
                    <div class="form-grid">
                        <label>
                            Eval Date
                            <input type="date" id="eval-date">
                        </label>
                        <label>
                            Recert Date
                            <input type="date" id="recert-date">
                        </label>
                        <label>
                            ICD‑10 Medical
                            <input type="text" id="icd10-med">
                        </label>
                        <label>
                            ICD‑10 Treatment
                            <input type="text" id="icd10-tx">
                        </label>
                        <label>
                            Account #
                            <input type="text" id="account-number">
                        </label>
                        <label>
                            Insurance
                            <input type="text" id="insurance">
                        </label>
                        <label>
                            Policy #
                            <input type="text" id="policy-number">
                        </label>
                        <label>
                            Referring Physician
                            <input type="text" id="referring-physician">
                        </label>
                        <label>
                            Evaluating Therapist
                            <input type="text" id="eval-therapist">
                        </label>
                        <label>
                            Patient DOB
                            <input type="date" id="dob">
                        </label>
                    </div>
                    <label>
                        Clinical Assessment
                        <textarea id="clinical-assessment" rows="3"></textarea>
                    </label>
                    <label>
                        Functional Progress
                        <textarea id="functional-progress" rows="2"></textarea>
                    </label>
                    <label>
                        Medications
                        <input type="text" id="medications">
                    </label>
                    <h4>Objective Measures</h4>
                    <div class="form-grid">
                        <label>
                            MMT
                            <input type="text" id="mmt">
                        </label>
                        <label>
                            ROM
                            <input type="text" id="rom">
                        </label>
                        <label>
                            Berg Balance
                            <input type="number" id="berg">
                        </label>
                        <label>
                            HR
                            <input type="number" id="hr">
                        </label>
                        <label>
                            BP
                            <input type="text" id="bp">
                        </label>
                        <label>
                            SpO₂
                            <input type="text" id="spo2">
                        </label>
                    </div>
                    <h4>Short‑Term Goals</h4>
                    <table id="st-goals" class="goals-table">
                        <thead>
                            <tr><th>Goal</th><th>Due Date</th><th>Status</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <h4>Long‑Term Goals</h4>
                    <table id="lt-goals" class="goals-table">
                        <thead>
                            <tr><th>Goal</th><th>Due Date</th><th>Status</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <label>
                        Contraindications
                        <textarea id="contraindications" rows="2"></textarea>
                    </label>
                    <label>
                        Patient Consent
                        <input type="checkbox" id="patient-consent">
                    </label>
                    <label>
                        Informed Consent
                        <input type="checkbox" id="informed-consent">
                    </label>
                    <label>
                        Required CPT Codes (comma separated)
                        <input type="text" id="required-cpt">
                    </label>
                    <label>
                        Plan Frequency
                        <input type="text" id="plan-frequency">
                    </label>
                    <label>
                        Therapist Signature
                        <input type="text" id="therapist-signature">
                    </label>
                    <label>
                        Physician Signature
                        <input type="text" id="physician-signature">
                    </label>
                <div class="eval-actions">
                    <button type="button" id="sign-lock-eval-btn">Sign &amp; Lock Evaluation</button>
                    <button type="button" id="unlock-eval-btn" class="hidden">Unlock Evaluation</button>
                </div>
                </form>
                <h3>Progress Notes</h3>
                <div id="progress-notes-list">
                    <!-- Progress notes will render here -->
                </div>
                <button id="add-note-btn">Add Progress Note</button>
            </section>
            <section id="empty-state">
                <p>Select a patient to view evaluation and progress notes.</p>
            </section>
        </main>
    </div>
    <!-- Patient template for progress note -->
    <template id="progress-note-template">
        <div class="progress-note">
            <div class="note-header">
                <input type="date" class="note-date">
                <button class="sign-lock-btn">Sign &amp; Lock</button>
                <button class="unlock-btn hidden">Unlock</button>
            </div>
            <label>
                Subjective
                <textarea class="note-subjective" rows="2"></textarea>
            </label>
            <label>
                Objective
                <textarea class="note-objective" rows="2"></textarea>
            </label>
            <label>
                Assessment
                <textarea class="note-assessment" rows="2"></textarea>
            </label>
            <label>
                Plan
                <textarea class="note-plan" rows="2"></textarea>
            </label>
            <div class="cpt-section">
                <h5>CPT Codes &amp; Minutes</h5>
                <table class="cpt-table">
                    <thead>
                        <tr><th>Code</th><th>Minutes</th><th></th></tr>
                    </thead>
                    <tbody>
                        <!-- CPT rows inserted here -->
                    </tbody>
                </table>
                <button class="add-cpt-btn">Add CPT Code</button>
                <p>Total Minutes: <span class="total-min">0</span> | Units: <span class="total-units">0</span></p>
            </div>
            <label>
                Therapist Signature
                <input type="text" class="note-therapist-signature">
            </label>
        </div>
    </template>
    <!-- CPT row template -->
    <template id="cpt-row-template">
        <tr>
            <td><input type="text" class="cpt-code"></td>
            <td><input type="number" min="0" class="cpt-min"></td>
            <td><button class="remove-cpt-btn">X</button></td>
        </tr>
    </template>
    <script src="script.js"></script>
</body>
</html>